<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bingo Asteria - FINAL</title>
    <style>
        :root {
            --azul-fondo: #001233;
            --amarillo: #FFC107;
            --blanco: #ffffff;
            --verde: #2ecc71;
        }

        body {
            font-family: 'Segoe UI', sans-serif;
            background-color: var(--azul-fondo);
            color: var(--blanco);
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* --- ENCABEZADO CENTRADO Y SEGURO --- */
        header {
            background: linear-gradient(180deg, #0d2b5e 0%, #001233 100%);
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center; /* Todo centrado */
            gap: 15px;
            border-bottom: 2px solid var(--amarillo);
            box-shadow: 0 4px 15px rgba(0,0,0,0.5);
            z-index: 100;
        }

        /* Control estricto de la imagen del logo */
        .logo-img {
            height: 60px;
            width: 60px;
            border-radius: 50%;
            border: 2px solid var(--amarillo);
            object-fit: cover; /* Evita que la imagen se estire feo */
            background: #000; /* Fondo negro si la imagen no carga */
        }

        h1 {
            font-size: 28px;
            text-transform: uppercase;
            color: var(--amarillo);
            text-shadow: 2px 2px 0px #000;
            margin: 0;
        }

        /* --- ESTRUCTURA --- */
        .layout {
            display: grid;
            grid-template-columns: 220px 1fr 280px;
            height: calc(100vh - 80px);
            gap: 10px;
            padding: 10px;
        }

        /* IZQUIERDA */
        .panel-izq { 
            background: rgba(255,255,255,0.05); 
            padding: 10px; 
            border-radius: 8px;
            display: flex; flex-direction: column; gap: 8px;
        }
        
        .caja-dato {
            background: white; color: black; padding: 8px; 
            border-radius: 4px; font-weight: bold; text-align: center;
        }
        .titulo-dato { font-size: 11px; color: #ccc; margin-bottom: 2px; }

        /* CENTRO (TABLERO) */
        .tablero {
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
            padding: 10px;
            overflow-y: auto;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(65px, 1fr));
            grid-auto-rows: 85px;
            gap: 5px;
        }

        .carta {
            background: white; border-radius: 5px;
            display: flex; flex-direction: column; 
            align-items: center; justify-content: center;
            position: relative;
        }
        .carta-num { font-size: 26px; font-weight: 800; color: #000; }
        .carta.ganadora {
            background: var(--verde); 
            border: 3px solid var(--amarillo);
            transform: scale(1.1); z-index: 5;
        }

        /* DERECHA */
        .panel-der {
            display: flex; flex-direction: column; 
            align-items: center; gap: 10px;
        }

        /* BOLA ANIMADA */
        .bola-wrap {
            width: 200px; height: 200px;
            position: relative;
            display: flex; justify-content: center; align-items: center;
        }

        .bola-fuego {
            width: 100%; height: 100%;
            border-radius: 50%;
            object-fit: cover;
            box-shadow: 0 0 25px rgba(255, 193, 7, 0.5);
            animation: respirar 2s infinite ease-in-out;
            background: radial-gradient(circle, #ffae00, #ff4500); /* Color fuego si no hay imagen */
        }

        .num-gigante {
            position: absolute; z-index: 10;
            font-size: 90px; font-weight: 900;
            color: var(--amarillo);
            text-shadow: 3px 3px 0 #000, -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000;
        }

        @keyframes respirar {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        button {
            background: var(--amarillo); border: none; padding: 15px;
            width: 100%; font-size: 20px; font-weight: bold; cursor: pointer;
            border-radius: 8px; text-transform: uppercase;
            box-shadow: 0 4px 0 #b38600;
        }
        button:active { transform: translateY(2px); box-shadow: 0 0 0; }

    </style>
</head>
<body>

    <header>
        <img src="estrella.jpg" class="logo-img" alt="⭐" onerror="this.style.display='none'; this.nextElementSibling.style.display='block'">
        <span style="font-size:40px; display:none;">⭐</span> <div style="text-align:center;">
            <h1>BINGO ASTERIA</h1>
            <div style="font-size:12px; letter-spacing: 2px;">PERÚ OFICIAL</div>
        </div>
    </header>

    <div class="layout">
        <aside class="panel-izq">
            <div><div class="titulo-dato">PRECIO</div><div class="caja-dato" style="background:var(--amarillo)">S/ 5.00</div></div>
            <div><div class="titulo-dato">1º PREMIO</div><input class="caja-dato" value="20" style="width:90%"></div>
            <div><div class="titulo-dato">2º PREMIO</div><input class="caja-dato" value="15" style="width:90%"></div>
            <div style="margin-top:auto">
                <div class="titulo-dato">HORA</div>
                <div class="caja-dato" id="reloj">--:--</div>
            </div>
        </aside>

        <main class="tablero" id="grid"></main>

        <aside class="panel-der">
            <div class="bola-wrap">
                <img src="bola.jpg" class="bola-fuego" id="imgBola" onerror="this.style.display='none'">
                <div class="num-gigante" id="pantallaNum">?</div>
            </div>

            <button onclick="jugar()">▶ SACAR BOLA</button>
            <button style="background:#d32f2f; color:white; font-size:14px; padding:10px;" onclick="location.reload()">REINICIAR</button>

            <div style="background:black; width:100%; padding:10px; border-radius:5px; text-align:center;">
                <div class="titulo-dato">HISTORIAL</div>
                <div id="historial" style="color:white; word-wrap:break-word;">...</div>
            </div>
        </aside>
    </div>

    <script>
        // RELOJ
        setInterval(() => document.getElementById('reloj').innerText = new Date().toLocaleTimeString(), 1000);

        // TABLERO
        const grid = document.getElementById('grid');
        const MAX = 50;
        let usados = [];

        for(let i=1; i<=MAX; i++){
            let d = document.createElement('div');
            d.className = 'carta';
            d.id = 'c-'+i;
            d.innerHTML = `<div class="titulo-dato">LIBRE</div><div class="carta-num">${i}</div><div style="color:#FFC107; font-size:10px">★★★★★</div>`;
            grid.appendChild(d);
        }

        // JUGAR
        function jugar() {
            if(usados.length >= MAX) return alert("FIN DEL JUEGO");
            
            let n;
            do { n = Math.floor(Math.random()*MAX)+1; } while(usados.includes(n));
            usados.push(n);

            // Animación
            let numDisplay = document.getElementById('pantallaNum');
            numDisplay.innerText = n;
            numDisplay.style.transform = "scale(1.5)";
            setTimeout(()=>numDisplay.style.transform="scale(1)", 200);

            // Tablero
            let carta = document.getElementById('c-'+n);
            carta.classList.add('ganadora');
            carta.querySelector('.titulo-dato').innerText = "GANADOR"; // Cambia texto
            carta.scrollIntoView({behavior:"smooth", block:"center"});

            // Historial
            let h = document.getElementById('historial');
            h.innerText = n + " - " + h.innerText.replace("...","");
        }
    </script>
</body>
</html>